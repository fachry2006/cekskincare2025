<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Berita Demo 2025 — XYZone</title>
  <meta name="description" content="Liputan lengkap Demo 2025 dengan kronologi, galeri, dan fitur berbagi lokasi yang aman (consent-based)." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --rose-50:#fff1f2; --rose-100:#ffe4e6; --rose-500:#f43f5e; --rose-600:#e11d48; --rose-700:#be123c;
      --amber-50:#fffbeb; --amber-100:#fef3c7; --amber-200:#fde68a; --amber-600:#d97706;
      --zinc-50:#fafafa; --zinc-100:#f4f4f5; --zinc-200:#e4e4e7; --zinc-300:#d4d4d8; --zinc-500:#71717a; --zinc-700:#3f3f46; --zinc-800:#27272a; --zinc-900:#18181b;
    }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    .glass { backdrop-filter: saturate(180%) blur(10px); background: rgba(255,255,255,.7); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-rose-50 via-white to-amber-50 text-zinc-800">
  <!-- Header -->
  <header class="sticky top-0 z-50 glass border-b border-zinc-200">
    <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between">
      <a href="#top" class="font-extrabold tracking-tight text-xl sm:text-2xl">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-rose-600 to-amber-600">XYZone</span>
        News
      </a>
      <ul class="hidden md:flex gap-6 text-sm font-medium text-zinc-700">
        <li><a class="hover:text-rose-600" href="#kronologi">Kronologi</a></li>
        <li><a class="hover:text-rose-600" href="#fakta">Fakta & Data</a></li>
        <li><a class="hover:text-rose-600" href="#galeri">Galeri</a></li>
        <li><a class="hover:text-rose-600" href="#lokasi">Bagikan Lokasi</a></li>
        <li><a class="hover:text-rose-600" href="#faq">FAQ</a></li>
      </ul>
      <a href="#lokasi" class="hidden md:inline-flex items-center gap-2 rounded-xl px-4 py-2 bg-zinc-900 text-white text-sm font-semibold shadow-sm hover:shadow active:scale-[.99] transition">
        Share Lokasi
      </a>
    </nav>
  </header>

  <!-- Hero -->
  <section id="top" class="relative overflow-hidden">
    <div aria-hidden class="absolute -top-32 -left-20 h-72 w-72 rounded-full bg-rose-100/70 blur-3xl"></div>
    <div aria-hidden class="absolute -bottom-24 -right-20 h-72 w-72 rounded-full bg-amber-200/60 blur-3xl"></div>

    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 sm:py-18">
      <div class="grid md:grid-cols-2 items-center gap-8">
        <div>
          <p class="inline-flex items-center rounded-full border border-rose-200 bg-white px-3 py-1 text-xs font-medium text-rose-700 shadow-sm">Breaking | Demo 2025</p>
          <h1 class="mt-4 text-4xl sm:text-5xl font-extrabold leading-tight tracking-tight">
            Ringkasan Resmi <span class="text-transparent bg-clip-text bg-gradient-to-r from-rose-600 to-amber-600">Demo 2025</span>
          </h1>
          <p class="mt-4 text-base sm:text-lg text-zinc-600">
            Laporan komprehensif aksi unjuk rasa 2025: kronologi, pernyataan resmi, dampak lalu lintas, serta panduan keselamatan. Halaman ini dilengkapi modul <strong>berbagi lokasi yang aman (consent-based)</strong> untuk kontributor lapangan.
          </p>
          <div class="mt-6 flex flex-col sm:flex-row gap-3">
            <a href="#kronologi" class="inline-flex justify-center rounded-xl bg-rose-600 px-5 py-3 text-white font-semibold shadow hover:shadow-md active:scale-[.99] transition">Baca Kronologi</a>
            <a href="#lokasi" class="inline-flex justify-center rounded-xl border border-zinc-300 bg-white px-5 py-3 text-zinc-800 font-semibold hover:border-zinc-400 active:scale-[.99] transition">Share Lokasi</a>
          </div>
        </div>
        <div class="relative md:h-[420px]">
          <div class="absolute inset-0 -rotate-2 rounded-3xl bg-gradient-to-br from-white to-rose-50 border border-zinc-200 shadow-xl"></div>
          <div class="relative m-2 rounded-3xl border border-zinc-200 bg-white/80 backdrop-blur p-6 shadow-xl">
            <div class="grid grid-cols-3 gap-3">
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Live Updates</p><p class="mt-1 text-xs text-zinc-600">Linimasa per menit</p></div>
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Verifikasi</p><p class="mt-1 text-xs text-zinc-600">Sumber kredibel</p></div>
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Safety</p><p class="mt-1 text-xs text-zinc-600">Tips di lapangan</p></div>
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Traffic</p><p class="mt-1 text-xs text-zinc-600">Rekayasa lalin</p></div>
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Weather</p><p class="mt-1 text-xs text-zinc-600">Kondisi cuaca</p></div>
              <div class="rounded-2xl border border-zinc-200 p-4"><p class="text-xs font-semibold text-rose-600">Hubungi</p><p class="mt-1 text-xs text-zinc-600">Posko bantuan</p></div>
            </div>
            <div class="mt-4 rounded-2xl bg-amber-50 border border-amber-200 p-4">
              <p class="text-sm font-semibold">Catatan Redaksi</p>
              <p class="text-xs text-zinc-600">Semua data lokasi dikirim <strong>atas persetujuan pengirim</strong> dan diproses sesuai kebijakan privasi. Tidak ada pelacakan otomatis.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Artikel & Kronologi -->
  <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <article class="grid lg:grid-cols-3 gap-6 py-10" id="kronologi">
      <div class="lg:col-span-2 rounded-3xl border border-zinc-200 bg-white p-6 shadow-sm">
        <h2 class="text-2xl sm:text-3xl font-bold">Kronologi Inti</h2>
        <ol class="mt-4 space-y-3 text-sm text-zinc-700">
          <li><span class="font-semibold">08:00</span> — Massa mulai berkumpul di beberapa titik, pengalihan arus diberlakukan.</li>
          <li><span class="font-semibold">10:15</span> — Orasi berlangsung damai, perwakilan menyampaikan tuntutan.</li>
          <li><span class="font-semibold">13:40</span> — Mediasi dengan otoritas setempat, situasi sempat memanas namun kondusif.</li>
          <li><span class="font-semibold">16:10</span> — Aksi ditutup, area dibuka bertahap, petugas kebersihan melakukan pembersihan.</li>
        </ol>
        <p class="mt-4 text-xs text-zinc-500">Catatan: Waktu bersifat indikatif berdasarkan laporan lapangan & rilis resmi.</p>
      </div>
      <aside class="rounded-3xl border border-rose-200 bg-rose-50 p-6 shadow-sm" id="fakta">
        <p class="text-sm font-semibold text-rose-700">Fakta Cepat</p>
        <ul class="mt-2 text-sm text-rose-900/90 space-y-1">
          <li>• Perkiraan peserta: 10–15 ribu.</li>
          <li>• Jalur terdampak: ring 1–3 pusat kota.</li>
          <li>• Layanan umum: tetap beroperasi dengan penyesuaian.</li>
        </ul>
      </aside>
    </article>

    <!-- Galeri -->
    <section id="galeri" class="py-6">
      <h2 class="text-2xl sm:text-3xl font-bold">Galeri</h2>
      <div class="mt-4 grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="aspect-[4/3] rounded-2xl bg-zinc-200 animate-pulse"></div>
        <div class="aspect-[4/3] rounded-2xl bg-zinc-200 animate-pulse"></div>
        <div class="aspect-[4/3] rounded-2xl bg-zinc-200 animate-pulse"></div>
        <div class="aspect-[4/3] rounded-2xl bg-zinc-200 animate-pulse"></div>
      </div>
    </section>

    <!-- Share Lokasi (Consent-Based) -->
    <section id="lokasi" class="py-10">
      <div class="rounded-3xl border border-zinc-200 bg-white p-6 shadow-sm">
        <div class="flex items-center justify-between gap-3 flex-wrap">
          <h2 class="text-2xl sm:text-3xl font-bold">Bagikan Lokasi</h2>
          <p class="text-xs text-zinc-500">Hanya kirim lokasi jika kamu <strong>setuju</strong> & paham tujuannya.</p>
        </div>

        <!-- Form koordinat manual -->
        <div class="mt-6 grid md:grid-cols-2 gap-4">
          <div class="space-y-2">
            <label for="lat" class="text-sm font-medium">Latitude</label>
            <input id="lat" type="text" inputmode="decimal" placeholder="cth: -6.944861" class="w-full rounded-xl border border-zinc-300 bg-white px-4 py-3 text-sm outline-none focus:border-rose-400" />
          </div>
          <div class="space-y-2">
            <label for="lng" class="text-sm font-medium">Longitude</label>
            <input id="lng" type="text" inputmode="decimal" placeholder="cth: 107.594986" class="w-full rounded-xl border border-zinc-300 bg-white px-4 py-3 text-sm outline-none focus:border-rose-400" />
          </div>
        </div>

        <div class="mt-3 flex flex-wrap gap-3">
          <button id="btnUseMyLoc" class="rounded-xl bg-rose-600 px-4 py-2 text-white text-sm font-semibold hover:shadow active:scale-[.99]">Gunakan Lokasi Saya</button>
          <button id="btnGenLink" class="rounded-xl border border-zinc-300 bg-white px-4 py-2 text-sm font-semibold hover:border-zinc-400">Buat Tautan</button>
        </div>

        <!-- Preview pesan -->
        <div class="mt-6 rounded-2xl border border-amber-200 bg-amber-50 p-4 text-sm">
          <p class="font-semibold">Preview Pesan</p>
          <pre id="preview" class="mt-2 whitespace-pre-wrap break-words text-zinc-800">🔗 Lokasi Shared: https://www.google.com/maps?q=-6.944861,107.594986</pre>
          <div class="mt-3 flex flex-wrap gap-3">
            <button id="btnCopy" class="rounded-xl bg-zinc-900 px-4 py-2 text-white text-sm font-semibold hover:shadow active:scale-[.99]">Copy</button>
            <button id="btnSend" class="rounded-xl border border-zinc-300 bg-white px-4 py-2 text-sm font-semibold hover:border-zinc-400">Send to Telegram (via Backend)</button>
          </div>
          <p class="mt-2 text-[11px] text-zinc-500">Token bot <strong>tidak</strong> pernah ditaruh di front‑end. Tombol “Send” memanggil endpoint backend kamu (lihat petunjuk di bawah).</p>
        </div>

        <!-- Petunjuk Backend Aman -->
        <details class="mt-6 group rounded-2xl border border-zinc-200 bg-zinc-50 p-4 open:shadow-sm">
          <summary class="cursor-pointer list-none font-semibold flex items-center gap-2">
            <span class="mr-1 inline-flex h-5 w-5 items-center justify-center rounded-full border border-zinc-300 text-[11px] group-open:rotate-45 transition">+</span>
            Cara Menghubungkan ke Telegram (Backend Aman)
          </summary>
          <div class="mt-3 text-sm text-zinc-700 space-y-3">
            <p>Siapkan server (misal Node.js/Express) dan simpan <code>BOT_TOKEN</code> & <code>CHAT_ID</code> sebagai <strong>environment variables</strong>. Endpoint contoh:</p>
            <pre class="p-3 bg-zinc-900 text-zinc-100 rounded-xl overflow-x-auto"><code>// server.js (contoh ringkas — jalankan di server, JANGAN di front-end)
import express from "express";
import fetch from "node-fetch";

const app = express();
app.use(express.json());

app.post("/api/telegram", async (req, res) => {
  try {
    const { text } = req.body;
    if (!text) return res.status(400).json({ error: "Missing text" });

    const BOT_TOKEN = process.env.BOT_TOKEN; // simpan aman di ENV
    const CHAT_ID = process.env.CHAT_ID;     // ID chat tujuan

    const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
    const r = await fetch(url, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ chat_id: CHAT_ID, text })
    });

    if (!r.ok) {
      const err = await r.text();
      return res.status(500).json({ error: err });
    }

    res.json({ ok: true });
  } catch (e) {
    res.status(500).json({ error: e.message });
  }
});

app.listen(3000, () => console.log("API ready on :3000"));</code></pre>
            <p>Kemudian di file HTML ini, set <code>BACKEND_URL</code> ke domain server kamu. Semua pengiriman dilakukan hanya saat <strong>pengguna menekan tombol</strong>.</p>
          </div>
        </details>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="py-10">
      <h2 class="text-2xl sm:text-3xl font-bold">FAQ</h2>
      <div class="mt-4 space-y-3">
        <details class="group rounded-2xl border border-zinc-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer list-none font-semibold"><span class="mr-2 inline-flex h-5 w-5 items-center justify-center rounded-full border border-zinc-300 text-[11px] group-open:rotate-45 transition">+</span>Apakah lokasi saya dilacak otomatis?</summary>
          <p class="mt-2 text-sm text-zinc-600">Tidak. Lokasi hanya dibaca jika kamu menekan “Gunakan Lokasi Saya”, dan hanya dikirim saat menekan tombol “Send”.</p>
        </details>
        <details class="group rounded-2xl border border-zinc-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer list-none font-semibold"><span class="mr-2 inline-flex h-5 w-5 items-center justify-center rounded-full border border-zinc-300 text-[11px] group-open:rotate-45 transition">+</span>Bisakah pakai koordinat manual?</summary>
          <p class="mt-2 text-sm text-zinc-600">Bisa. Masukkan <em>latitude</em> dan <em>longitude</em> lalu klik “Buat Tautan”.</p>
        </details>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="border-t border-zinc-200 bg-white/70 mt-10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 flex flex-col sm:flex-row items-center justify-between gap-3 text-sm text-zinc-600">
      <p>© 2025 XYZone Media. All rights reserved.</p>
      <div class="flex gap-4">
        <a href="#" class="hover:text-rose-600">Kebijakan Privasi</a>
        <a href="#" class="hover:text-rose-600">Ketentuan Layanan</a>
        <a href="#top" class="hover:text-rose-600">Kembali ke atas</a>
      </div>
    </div>
  </footer>

  <!-- Toast -->
  <div id="toast" class="fixed bottom-4 left-1/2 -translate-x-1/2 hidden">
    <div class="rounded-xl bg-zinc-900 text-white text-sm px-4 py-2 shadow-lg" role="status" aria-live="polite"></div>
  </div>

  <script>
    // ====== Konfigurasi Backend (ubah ke domain server kamu) ======
    const BACKEND_URL = "/api/telegram"; // contoh: "https://api.yourdomain.com/api/telegram"

    // ====== Helper UI ======
    const $ = (s) => document.querySelector(s);
    const toast = (msg) => {
      const t = $("#toast");
      t.querySelector("div").textContent = msg;
      t.classList.remove("hidden");
      setTimeout(() => t.classList.add("hidden"), 2200);
    };

    // ====== Elemen ======
    const latInput = $("#lat");
    const lngInput = $("#lng");
    const previewEl = $("#preview");
    const btnUseMyLoc = $("#btnUseMyLoc");
    const btnGenLink = $("#btnGenLink");
    const btnCopy = $("#btnCopy");
    const btnSend = $("#btnSend");

    // ====== Validasi & Format ======
    function isValidCoord(v) {
      // terima format desimal (positif/negatif), titik desimal opsional
      return /^-?\d{1,3}(?:\.\d+)?$/.test(v);
    }

    function clampLat(lat) { return Math.max(-90, Math.min(90, lat)); }
    function clampLng(lng) { return Math.max(-180, Math.min(180, lng)); }

    function generateMessage(lat, lng) {
      return `🔗 Lokasi Shared: https://www.google.com/maps?q=${lat},${lng}`;
    }

    function setPreviewFromInputs() {
      const lat = parseFloat(latInput.value);
      const lng = parseFloat(lngInput.value);
      if (Number.isFinite(lat) && Number.isFinite(lng)) {
        const clat = clampLat(lat).toFixed(6);
        const clng = clampLng(lng).toFixed(6);
        previewEl.textContent = generateMessage(clat, clng);
      } else {
        previewEl.textContent = "Mohon isi koordinat valid atau gunakan lokasi otomatis.";
      }
    }

    // ====== Event: Buat Tautan Manual ======
    btnGenLink.addEventListener("click", () => {
      const lat = latInput.value.trim();
      const lng = lngInput.value.trim();
      if (!isValidCoord(lat) || !isValidCoord(lng)) {
        toast("Koordinat tidak valid.");
        return;
      }
      setPreviewFromInputs();
      toast("Tautan dibuat.");
    });

    // ====== Event: Gunakan Lokasi Saya (Consent-based) ======
    btnUseMyLoc.addEventListener("click", async () => {
      if (!navigator.geolocation) {
        toast("Geolocation tidak didukung browser.");
        return;
      }
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const { latitude, longitude } = pos.coords;
          const lat = clampLat(latitude).toFixed(6);
          const lng = clampLng(longitude).toFixed(6);
          latInput.value = lat;
          lngInput.value = lng;
          previewEl.textContent = generateMessage(lat, lng);
          toast("Lokasi diperbarui.");
        },
        (err) => {
          console.warn("Geo error:", err);
          toast("Gagal membaca lokasi (izin ditolak?).");
        },
        { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
      );
    });

    // ====== Event: Copy ======
    btnCopy.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(previewEl.textContent);
        toast("Tersalin ke clipboard.");
      } catch (e) {
        toast("Clipboard gagal.");
      }
    });

    // ====== Event: Send to Telegram via Backend ======
    btnSend.addEventListener("click", async () => {
      const text = previewEl.textContent.trim();
      if (!text.startsWith("🔗 Lokasi Shared:")) {
        toast("Pesan belum siap.");
        return;
      }
      try {
        const res = await fetch(BACKEND_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text })
        });
        if (!res.ok) {
          const err = await res.text();
          console.warn("Send error:", err);
          toast("Gagal kirim (cek backend)");
          return;
        }
        toast("Dikirim ke Telegram.");
      } catch (e) {
        console.warn(e);
        toast("Tidak terhubung ke backend.");
      }
    });

    // ====== Seed preview default sesuai permintaan ======
    latInput.value = "-6.944861";
    lngInput.value = "107.594986";
    setPreviewFromInputs();
  </script>
</body>
</html>
